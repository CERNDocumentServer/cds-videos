<div ng-if="vm.invenioSearchResults.hits.total != 0">
  <a class="list-group-item cds-tasks-state-left-border"
      ng-init="state = (record.metadata._deposit.state | overallState)"
      ng-repeat="record in vm.invenioSearchResults.hits.hits track by $index"
      ng-class="{'cds-tasks-error': state === 'DEPOSIT_STATE/FAILURE',
                 'cds-tasks-success': state === 'DEPOSIT_STATE/SUCCESS',
                 'cds-tasks-pending': state === 'DEPOSIT_STATE/PENDING',
                 'cds-tasks-started': state === 'DEPOSIT_STATE/STARTED'
               }"
      target="_self" ng-href="/deposit/{{ record.metadata._deposit.id }}">
      <div class="row">
        <div class="col-sm-10">
          <h4 class="t-b">
            <b>{{ record.metadata.title.title || 'No title' }}</b>
          </h4>
          <p>
            {{ record.metadata.description.value | stripTags }}
          </p>
          <ul class="list-inline">
            <li><span ng-show="record.metadata.category" class="label label-default">{{record.metadata.category}}</span></li>
            <li><span ng-show="record.metadata.type" class="label label-warning">{{record.metadata.type}}</span></li>
          </ul>
          <p class="list-group-item-text text-muted">
            <small>Created on {{ record.created | date:'medium' }}, last updated on {{ record.updated | date:'medium' }}</small>
          </p>
        </div>
        <div class="col-sm-2">
          <ul class="list-unstyled">
            <li class="small" ng-repeat="(task, status) in (record.metadata._deposit.state | orderTasks)">
              <i class="fa fa-fw {{ status | progressIcon }} {{ status | progressClass }}"></i> {{ task | taskRepr }}
            </li>
          </ul>
        </div>
      </div>
  </a>
</div>
<div ng-if="vm.invenioSearchResults.hits.total == 0">
  <div class="list-group">
    <div class="list-group-item">
      <div align="center">
        <h1>No uploads</h1>
        <p>Get started by making your first deposit</p>
        <a class="btn btn-success" href="/deposit/new">
            <i class="glyphicon glyphicon-upload"></i>
            New Upload
        </a>
      </div>
    </div>
  </div>
</div>
