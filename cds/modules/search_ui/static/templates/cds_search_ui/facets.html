<div ng-show="vm.invenioSearchResults.hits.total > 0"class="cds-search-facets bg-w pa-20 pt-30">
  <div ng-init="tree=[];tree_more=[]" ng-repeat="(key, value) in vm.invenioSearchResults.aggregations track by $index">
    <div ng-if="value.buckets.length > 0 && key != 'years'" class="panel panel-default mb-30">
      <div class="panel-heading">
        <h3 class="panel-title text-capitalize">{{ key }}</h3>
      </div>
      <div class="panel-body">
        <ul class="list-unstyled" ng-init="values=getValues(key)" ng-repeat="item in value.buckets">
          <li>
            <input type="checkbox" ng-checked="values.indexOf(item.key) > -1" ng-click="handleClick(key, item.key)" /> {{ item.key }} ({{ item.doc_count }})
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
